<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate a Google Sheets API request — request_generate • googlesheets4</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<meta property="og:title" content="Generate a Google Sheets API request — request_generate" />
<meta property="og:description" content="Generate a request, using knowledge of the Sheets API from its Discovery Document. Use
request_make() to execute the request. Most users should, instead, use
higher-level wrappers that facilitate common tasks, such as reading or
writing worksheets or cell ranges. The functions here are intended for
internal use and for programming around the Sheets API.
request_generate() lets you provide the bare minimum of input.
It takes a nickname for an endpoint and:
Uses the API spec to look up the method, path, and base_url.
Checks params for validity and completeness with respect to the
endpoint. Uses params for URL endpoint subsitution and separates
remaining parameters into those destined for the body versus the query.
Adds an API key to the query if and only if token = NULL.
" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">googlesheets4</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/googlesheets4-conventions.html">googlesheets4 conventions</a>
    </li>
    <li>
      <a href="../articles/articles/googlesheets4-design-notes.html">googlesheets4 design notes</a>
    </li>
    <li>
      <a href="../articles/articles/sheets-api-v4.html">Google Sheets API v4</a>
    </li>
    <li>
      <a href="../articles/articles/sheets-auth-flow.html">Google Sheets API v4 Auth Flow</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tidyverse/googlesheets4">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a Google Sheets API request</h1>
    <small>Source: <a href='https://github.com/tidyverse/googlesheets4/blob/master/R/request_generate.R'><code>R/request_generate.R</code></a></small>
    <div class="hidden name"><code>request_generate.Rd</code></div>
    </div>

    <p>Generate a request, using knowledge of the <a href='https://developers.google.com/sheets/api/'>Sheets API</a> from its <a href='https://www.googleapis.com/discovery/v1/apis/sheets/v4/rest'>Discovery Document</a>. Use
<code><a href='request_make.html'>request_make()</a></code> to execute the request. Most users should, instead, use
higher-level wrappers that facilitate common tasks, such as reading or
writing worksheets or cell ranges. The functions here are intended for
internal use and for programming around the Sheets API.</p>
<p><code>request_generate()</code> lets you provide the bare minimum of input.
It takes a nickname for an endpoint and:</p><ul>
<li><p>Uses the API spec to look up the <code>method</code>, <code>path</code>, and <code>base_url</code>.</p></li>
<li><p>Checks <code>params</code> for validity and completeness with respect to the
endpoint. Uses <code>params</code> for URL endpoint subsitution and separates
remaining parameters into those destined for the body versus the query.</p></li>
<li><p>Adds an API key to the query if and only if <code>token = NULL</code>.</p></li>
</ul>

    <pre class="usage"><span class='fu'>request_generate</span>(<span class='kw'>endpoint</span> <span class='kw'>=</span> <span class='fu'>character</span>(), <span class='kw'>params</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='kw'>key</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>token</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>endpoint</th>
      <td><p>Character. Nickname for one of the selected Sheets API v4
endpoints built into googlesheets4. Learn more in <code><a href='sheets_endpoints.html'>sheets_endpoints()</a></code>.</p></td>
    </tr>
    <tr>
      <th>params</th>
      <td><p>Named list. Parameters destined for endpoint URL substitution,
the query, or the body.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>API key. Needed for requests that don't contain a token. The need
for an API key in the absence of a token is explained in Google's document
<a href='https://support.google.com/googleapi/answer/6158857?hl=en&amp;ref_topic=7013279'>Credentials, access, security, and identity</a>.
In order of precedence, these sources are consulted: the formal <code>key</code>
argument, a <code>key</code> parameter in <code>params</code>, a pre-configured API key fetched
via <code>sheets_api_key()</code> (nope, not set up yet). googlesheets4 ships with a
built-in key or users can override with their own via
<code>sheets_auth_config()</code> (nope, not set up yet).</p></td>
    </tr>
    <tr>
      <th>token</th>
      <td><p>Set this to <code>NULL</code> to suppress the inclusion of a token. Note
that, if auth has been de-activated via <code>sheets_auth_config()</code>,
<code>sheets_token()</code> will actually return <code>NULL</code>. (none of that is implemented
yet)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>list()</code><br /> Components are <code>method</code>, <code>url</code>, <code>body</code>, and <code>token</code>,
suitable as input for <code><a href='request_make.html'>request_make()</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/gargle/topics/request_develop'>gargle::request_develop()</a></code>, <code><a href='http://www.rdocumentation.org/packages/gargle/topics/request_develop'>gargle::request_build()</a></code>,
<code><a href='http://www.rdocumentation.org/packages/gargle/topics/request_make'>gargle::request_make()</a></code></p>
<p>Other low-level API functions: <code><a href='request_make.html'>request_make</a></code>,
  <code><a href='response_process.html'>response_process</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>req</span> <span class='kw'>&lt;-</span> <span class='fu'>request_generate</span>(
  <span class='st'>"spreadsheets.get"</span>,
  <span class='fu'>list</span>(<span class='kw'>spreadsheetId</span> <span class='kw'>=</span> <span class='st'>"1xTUxWGcFLtDIHoYJ1WsjQuLmpUtBf--8Bcu5lQ302SU"</span>),
  <span class='kw'>token</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)
<span class='no'>req</span>
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jennifer Bryan, <a href='https://www.rstudio.com'><img src='http://tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

