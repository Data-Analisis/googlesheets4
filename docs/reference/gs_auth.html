<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Authorize googlesheets — gs_auth • googlesheets2</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">googlesheets2</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jennybc/googlesheets2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Authorize googlesheets</h1>
    </div>

    
    <p>Authorize googlesheets to view and manage your files. You will be directed to
a web browser, asked to sign in to your Google account, and to grant
googlesheets permission to operate on your behalf with Google Sheets and
Google Drive. By default, these user credentials are cached in a file named
<code>.httr-oauth</code> in the current working directory, from where they can be
automatically refreshed, as necessary.</p>
    

    <pre class="usage"><span class='fu'>gs_auth</span>(<span class='kw'>token</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new_user</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>key</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"googlesheets.client_id"</span>),
  <span class='kw'>secret</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"googlesheets.client_secret"</span>),
  <span class='kw'>cache</span> <span class='kw'>=</span> <span class='fu'>getOption</span>(<span class='st'>"googlesheets.httr_oauth_cache"</span>), <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>token</th>
      <td><p>optional; an actual token object or the path to a valid token
stored as an <code>.rds</code> file</p></td>
    </tr>
    <tr>
      <th>new_user</th>
      <td><p>logical, defaults to <code>FALSE</code>. Set to <code>TRUE</code> if you want to
wipe the slate clean and re-authenticate with the same or different Google
account. This disables the <code>.httr-oauth</code> file in current working directory.</p></td>
    </tr>
    <tr>
      <th>key, secret</th>
      <td><p>the "Client ID" and "Client secret" for the application;
defaults to the ID and secret built into the googlesheets package</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>logical indicating if googlesheets should cache credentials in
the default cache file <code>.httr-oauth</code></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical; do you want informative messages?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an OAuth token object, specifically a
  <code>Token2.0</code>, invisibly</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Most users, most of the time, do not need to call this function explicitly --
it will be triggered by the first action that requires authorization. Even
when called, the default arguments will often suffice. However, when
necessary, this function allows the user to</p><ul>
<li><p>Force the creation of a new token.</p></li>
<li><p>Retrieve current token as an object, for possible storage to an <code>.rds</code> file.</p></li>
<li><p>Read the token from an object or from an <code>.rds</code> file.</p></li>
<li><p>Provide your own app key and secret. This requires setting up a new project
in <a href = 'https://console.developers.google.com'>Google Developers Console</a>.</p></li>
<li><p>Prevent caching of credentials in <code>.httr-oauth</code>.</p></li>
</ul>
    <p>In a direct call to <code>gs_auth()</code>, the user can provide the token, app key and
secret explicitly and can dictate whether interactively-obtained credentials
will be cached in <code>.httr_oauth</code>. If unspecified, these arguments are
controlled via options, which, if undefined at the time googlesheets is
loaded, are defined like so:</p><ul>
<li><p><em>key</em>: Set to option <code>googlesheets.client_id</code>, which defaults to a client
ID that ships with the package.</p></li>
<li><p><em>secret</em>: Set to option <code>googlesheets.client_secret</code>, which defaults to a
client secret that ships with the package.</p></li>
<li><p><em>cache</em>: Set to option <code>googlesheets.httr_oauth_cache</code>, which defaults to
<code>TRUE</code>.</p></li>
</ul>
    <p>To override these defaults in a persistent way, predefine one or more of them
with lines like this in a <code>.Rprofile</code> file:</p><pre>options(googlesheets.client_id = "FOO",
        googlesheets.client_secret = "BAR",
        googlesheets.httr_oauth_cache = FALSE)
</pre>
    <p>See <code><a href='http://www.rdocumentation.org/packages/base/topics/Startup'>base::Startup()</a></code> for possible locations for this file and the
implications thereof.</p>
<p>More detail is available from <a href = 'https://developers.google.com/identity/protocols/OAuth2InstalledApp'>Using OAuth 2.0 for InstalledApplications</a>.
See <code><a href='gs_webapp_auth_url.html'>gs_webapp_auth_url()</a></code> and <code><a href='gs_webapp_get_token.html'>gs_webapp_get_token()</a></code> for functions that
execute the "web server application" flow.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other auth functions: <code><a href='gd_user.html'>gd_user</a></code>,
  <code><a href='gs_deauth.html'>gs_deauth</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>not_run</span>({
  <span class='co'>## load/refresh existing credentials, if available</span>
  <span class='co'>## otherwise, go to browser for authentication and authorization</span>
  <span class='fu'>gs_auth</span>()

  <span class='co'>## force a new token to be obtained</span>
  <span class='fu'>gs_auth</span>(<span class='kw'>new_user</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

  <span class='co'>## store token in an object and then to file</span>
  <span class='no'>ttt</span> <span class='kw'>&lt;-</span> <span class='fu'>gs_auth</span>()
  <span class='fu'>saveRDS</span>(<span class='no'>ttt</span>, <span class='st'>"ttt.rds"</span>)

  <span class='co'>## load a pre-existing token</span>
  <span class='fu'>gs_auth</span>(<span class='kw'>token</span> <span class='kw'>=</span> <span class='no'>ttt</span>)       <span class='co'># from an object</span>
  <span class='fu'>gs_auth</span>(<span class='kw'>token</span> <span class='kw'>=</span> <span class='st'>"ttt.rds"</span>) <span class='co'># from .rds file</span>
})</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jennifer Bryan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
